# –ö–∞–ª–µ–Ω–¥–∞—Ä—å ¬´–¢–æ–º—Å–∫–æ–π –ü—Ä–æ–≥—É–ª–∫–∏¬ª

**Telegram-–±–æ—Ç –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π ¬´–¢–æ–º—Å–∫–æ–π –ü—Ä–æ–≥—É–ª–∫–∏¬ª —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Google Calendar API**

---

## –û–ø–∏—Å–∞–Ω–∏–µ

–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π Telegram-–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π:
- **–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –±–ª–∏–∂–∞–π—à–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è** –∏–∑ Google Calendar.
- **–ü–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º** (—Ä–µ–¥–∞–∫—Ç–æ—Ä–∞–º) —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è.
- **–í–µ–¥—ë—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º [FastAPI](https://fastapi.tiangolo.com/) –¥–ª—è –≤–µ–±-—Å–µ—Ä–≤–∏—Å–∞ –∏ [python-telegram-bot](https://github.com/python-telegram-bot/python-telegram-bot) –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram Bot API.

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```plaintext
progulka-events/
‚îú‚îÄ‚îÄ .env                           # –§–∞–π–ª —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–µ–∫—Ä–µ—Ç—ã) ‚Äì –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π!
‚îú‚îÄ‚îÄ .gitignore                     # –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤/–∫–∞—Ç–∞–ª–æ–≥–æ–≤, –∏—Å–∫–ª—é—á—ë–Ω–Ω—ã—Ö –∏–∑ Git
‚îú‚îÄ‚îÄ LICENSE                        # –õ–∏—Ü–µ–Ω–∑–∏—è –ø—Ä–æ–µ–∫—Ç–∞ (MIT)
‚îú‚îÄ‚îÄ amvera.yml                     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ Amvera Cloud
‚îú‚îÄ‚îÄ main.py                        # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ ‚Äì –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ FastAPI –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤–µ–±—Ö—É–∫–∞
‚îú‚îÄ‚îÄ requirements.txt               # –°–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ calendar-of-tomsk-progulka-b7cd9e8caac0.json  # –£—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ Google (—Å–µ–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª, –Ω–µ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è)
‚îî‚îÄ‚îÄ app/                           # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –±–æ—Ç–∞
    ‚îú‚îÄ‚îÄ __init__.py                # –ü—É—Å—Ç–æ–π —Ñ–∞–π–ª (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞)
    ‚îú‚îÄ‚îÄ bot.py                     # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram –±–æ—Ç–∞
    ‚îú‚îÄ‚îÄ cache.py                   # –õ–æ–≥–∏–∫–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π
    ‚îú‚îÄ‚îÄ calendar_api.py            # –†–∞–±–æ—Ç–∞ —Å Google Calendar API (–ø–æ–ª—É—á–µ–Ω–∏–µ/–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π)
    ‚îú‚îÄ‚îÄ config.py                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–∑–∞–≥—Ä—É–∑–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–ª–∏ .env)
    ‚îú‚îÄ‚îÄ handlers.py                # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ –¥–∏–∞–ª–æ–≥–æ–≤ –±–æ—Ç–∞
    ‚îî‚îÄ‚îÄ usage_stats.py             # –õ–æ–≥–∏–∫–∞ —É—á—ë—Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
```

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
git clone https://github.com/baslie/tomskaya-progulka-bot.git
cd tomskaya-progulka-bot
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è Python 3.9 –∏–ª–∏ –≤—ã—à–µ). –ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
pip install -r requirements.txt
```

### 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç [python-dotenv](https://pypi.org/project/python-dotenv/) –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ —Ñ–∞–π–ª–∞ **.env** (–µ—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `AMVERA` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ ‚Äî –ø—Ä–æ–µ–∫—Ç –≤—ã–≥—Ä—É–∂–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ã [Amvera Cloud](https://amvera.ru/)).

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª **.env** –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º, –ø–æ–¥–æ–±–Ω—ã–º —Å–ª–µ–¥—É—é—â–µ–º—É:

```ini
# .env (–Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)
TELEGRAM_TOKEN=your_telegram_bot_token_here
```

**–í–∞–∂–Ω–æ:** –§–∞–π–ª **.env** –∏ JSON-–∫–ª—é—á–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `calendar-of-tomsk-progulka-b7cd9e8caac0.json`) –∏—Å–∫–ª—é—á–µ–Ω—ã —á–µ—Ä–µ–∑ **.gitignore** –∏ –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

#### –î–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ Amvera Cloud

–ù–∞ Amvera Cloud –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `AMVERA` —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞, –ø–æ—ç—Ç–æ–º—É –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ —Ñ–∞–π–ª–∞ **.env** –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–µ–∫—Ä–µ—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `TELEGRAM_TOKEN`) –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –æ–±–ª–∞–∫–∞.

---

## –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

–ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:

```bash
uvicorn main:app --host 0.0.0.0 --port 8000
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:
- FastAPI-—Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É [http://localhost:8000](http://localhost:8000).
- Telegram-–±–æ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤–µ–±—Ö—É–∫ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ) –∏ –Ω–∞—á–Ω—ë—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞

- **/start** ‚Äî –≤—ã–≤–æ–¥–∏—Ç –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
- **/events** –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ "üóìÔ∏è –ë–ª–∏–∂–∞–π—à–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è" ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –±–ª–∏–∂–∞–π—à–∏—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π.
- **/add_event** –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ "‚ûï –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ" ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç –¥–∏–∞–ª–æ–≥ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è (–¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–≤).

---

## –î–µ–ø–ª–æ–π

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ [Amvera Cloud](https://amvera.ru/). –§–∞–π–ª **amvera.yml** —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

```yaml
version: null
meta:
  environment: python
  toolchain:
    name: pip
    version: 3.9
build:
  requirementsPath: requirements.txt
run:
  persistenceMount: /data
  containerPort: 8000
  command: uvicorn main:app --host 0.0.0.0 --port 8000
```

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –∑–∞–¥–∞–Ω—ã —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –æ–±–ª–∞–∫–µ.

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–µ–∫—Ä–µ—Ç–æ–≤

- **–§–∞–π–ª—ã —Å —Å–µ–∫—Ä–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏** (–Ω–∞–ø—Ä–∏–º–µ—Ä, **.env** –∏ JSON-–∫–ª—é—á–∏) –∏—Å–∫–ª—é—á–µ–Ω—ã –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —á–µ—Ä–µ–∑ **.gitignore**.
- –î–ª—è CI/CD –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ [GitHub Secrets](https://docs.github.com/en/actions/security-guides/encrypted-secrets) –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π [MIT License](LICENSE).
